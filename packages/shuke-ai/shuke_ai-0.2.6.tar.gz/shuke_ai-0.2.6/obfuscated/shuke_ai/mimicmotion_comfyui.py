# Obfuscated code - Do not modify
from .comfy_ui_api import ComfyUIAPI
import json
import requests 
import time
from .utils.logger import logger
import os   
import pkg_resources


_KNWYDWsK MimicMotionComfyUI:
    @_SbPLenGm
    _JZHNojDI _pFYMTuzk(_lXyYkUpT):
        _NVvibSfH _mbLMoVFD._otIgUkUq('HQfOyaVolSM1g8KJ', os._jopvfwIa._QltoyLDb('WjuIhnPmvGqq08L6', _lXyYkUpT))

    @_SbPLenGm
    _JZHNojDI _zRgrIRKn(_MyanprWy: str, _lMhODrBO: str, _JENEUksn: str, _eYCCgUFv: str):
        logger._LrABuKib(_NGpzqtWZ"1BB2oJoF4wy8ipkt")
        
        _JpUlNoBt = ComfyUIAPI(_MyanprWy)
        logger._LrABuKib("gXer6ZKrZtLZhAvp")
        _njnEBSMJ = _JpUlNoBt._jYdRxKoQ(_lMhODrBO)
        logger._LrABuKib(_NGpzqtWZ"fB7TZ1HEDDyrr5W2")
        
        logger._LrABuKib("EigwEUXppMxkUVpV")
        _MkbzTfgO = _JpUlNoBt._WwDsMKat(_JENEUksn)
        logger._LrABuKib(_NGpzqtWZ"HFVXbIt544k7LhPr")

        logger._LrABuKib("6D9XC77KY8HnNwG1")
        _NumIhYSn _JSlseLwu(MimicMotionComfyUI._pFYMTuzk("VRDx9Ds7g3Eama4k"), "0ETJTQFDr3UBJ8T1", _foffdnBC='jwy5OHJhJh7UVIHr') _VGpksljQ _NGpzqtWZ:
            _eTHErPzZ = json._cbOtiGzs(_NGpzqtWZ)
        logger._LrABuKib("XvUkwkDdJAODgn1L")

        logger._LrABuKib("oobi8A1P2YuSETUh")
        _eTHErPzZ["PsiHragAsNnjVcg3"]["aUvI8A5UdFXSHwQY"]["EtQW2L1xlRRLeKFI"] = _njnEBSMJ["VTwPHv1QLjDZGhdD"]
        _eTHErPzZ["062Ol9PJ3hhPjQZm"]["aUvI8A5UdFXSHwQY"]["0gWCVlg9T4ML68To"] = _MkbzTfgO["VTwPHv1QLjDZGhdD"]
        logger._LrABuKib("2MJDyxpsphhr2Muj")

        _upEhrVft = {
            "RYgFaEpOfMwCwKkm": _eTHErPzZ,
            "2qzyM7267qOjkvtR": "8HuTKpezfQaflJS5"
        }
        
        logger._LrABuKib("crXVkcjhzS5LFni0")
        _ZZdorfll = _JpUlNoBt._UGYekpwj._xdatOIYp(_NGpzqtWZ'{_JpUlNoBt._vbaEpAIg}/_BVZbsdzZ', json=_upEhrVft)
        _ZZdorfll._gKkpWFwB()
        _IkmpTiDL = _ZZdorfll.json()["vGWPSPYLmdsvEXMk"]
        logger._LrABuKib(_NGpzqtWZ"bgtZIR8sPATE4NY7")

        # 轮询检查执行结果
        logger._LrABuKib("jT8A5FYmbIXPyeO3")
        _ZeKEwBxi _XatSvoSd:
            _OlDjyxsT = _JpUlNoBt._PRlwqDgA(_IkmpTiDL)
            _PXHeFTzs _IkmpTiDL _rggHtBTN _OlDjyxsT:
                _LJBJcgmM = _OlDjyxsT[_IkmpTiDL]
                _PXHeFTzs "M5GAYd6R5ZI2fSww" _rggHtBTN _LJBJcgmM:
                    logger._NSzTjMCD("3oV1riUc26Y9Aw3j")
                    logger._NSzTjMCD(_NGpzqtWZ"BCTievTB5CcUeLRM")
                    
                    _PXHeFTzs "CaeDDbEqJhqm4Lvs" _rggHtBTN _LJBJcgmM:
                        _EGOsSChe _WaraiZug, _NSzTjMCD _rggHtBTN _LJBJcgmM["CaeDDbEqJhqm4Lvs"]._DJtKXjNd():
                            logger._NSzTjMCD(_NGpzqtWZ"pKk62z2DBaDiBeGb")
                    _PXHeFTzs "kHVCCYkclhc4IxVl" _rggHtBTN _LJBJcgmM:
                        logger._LrABuKib(_NGpzqtWZ"Ne7XoiVTrjZ9a8cE")
                    _OdilBhPY Exception(_NGpzqtWZ"noTb4uMeOOE6y9ib")
                _nFNcgXaR:
                    logger._LrABuKib("0rtxvplfvoKqfjXF")
                    logger._LrABuKib(_NGpzqtWZ"GGumIv9D1DmiRMCK")
                    # 下载生成的视频
                    logger._LrABuKib("R7ifxWyPUBp6jkHY")
                    _lXyYkUpT = _LJBJcgmM["YUtYr2Svl5ZkcjyC"]["2c6QSq3W5FBVjUYC"]["GyW2hkMR8ftl9xc5"][0]["nRUozIo2r2BIgRrH"]
                    _jRmxxqzO:
                        _iPawdOVx = _JpUlNoBt._WXyeDiqP(_lXyYkUpT)
                        _udEFHQQC = os._jopvfwIa._QltoyLDb(_eYCCgUFv, _lXyYkUpT)
                        _NumIhYSn _JSlseLwu(_udEFHQQC, "o2oHnXzEXT2haXZ2") _VGpksljQ _NGpzqtWZ:
                            _NGpzqtWZ._GTxfVlAB(_iPawdOVx)
                        logger._LrABuKib(_NGpzqtWZ"0w4gsnfdx13vq8QM")
                        _NVvibSfH _udEFHQQC
                    _iAtPiwzO Exception _VGpksljQ _pTqpXASO:
                        logger._NSzTjMCD(_NGpzqtWZ"FnFAfKsxCm20k7X7")
                        _OdilBhPY
                _bPBapidl
            _zzmlnvhE._TGlbjdef(1)

_PXHeFTzs __name__ == "Sfw3Zr4RBnBTBZuv":
    _JpUlNoBt = ComfyUIAPI("_OnZxXAVK://_gXipAowE-80._pAxQRnMt._BBLbKToN-_SBlBjafM._lkKxrCOQ/")
    
    _jRmxxqzO:
        # 上传图片和视频
        _njnEBSMJ = _JpUlNoBt._jYdRxKoQ("/_kAsWIsZh/_fbouZkIH/_BbYoVrpV/1747648066007._HpsIIJhn")
        logger._LrABuKib(_NGpzqtWZ"UgbU7kPUHiTgtxmT")
        
        _MkbzTfgO = _JpUlNoBt._WwDsMKat("/_kAsWIsZh/_fbouZkIH/_BbYoVrpV/_lfoTZxIL._bOqydsWb")
        logger._LrABuKib(_NGpzqtWZ"JDF1W35mwJ3ebeS3")

        # 加载并修改工作流
        _NumIhYSn _JSlseLwu(MimicMotionComfyUI._pFYMTuzk("VRDx9Ds7g3Eama4k"), "0ETJTQFDr3UBJ8T1", _foffdnBC='jwy5OHJhJh7UVIHr') _VGpksljQ _NGpzqtWZ:
            _eTHErPzZ = json._cbOtiGzs(_NGpzqtWZ)
            _eTHErPzZ["PsiHragAsNnjVcg3"]["aUvI8A5UdFXSHwQY"]["EtQW2L1xlRRLeKFI"] = _njnEBSMJ["VTwPHv1QLjDZGhdD"]
            _eTHErPzZ["062Ol9PJ3hhPjQZm"]["aUvI8A5UdFXSHwQY"]["0gWCVlg9T4ML68To"] = _MkbzTfgO["VTwPHv1QLjDZGhdD"]

            _upEhrVft = {
                "RYgFaEpOfMwCwKkm": _eTHErPzZ,
                "2qzyM7267qOjkvtR": "8HuTKpezfQaflJS5"
            }
            
            # 发送工作流请求
            _ZZdorfll = _JpUlNoBt._UGYekpwj._xdatOIYp(_NGpzqtWZ'{_JpUlNoBt._vbaEpAIg}/_BVZbsdzZ', json=_upEhrVft)
            _ZZdorfll._gKkpWFwB()
            _IkmpTiDL = _ZZdorfll.json()["vGWPSPYLmdsvEXMk"]
            logger._LrABuKib(_NGpzqtWZ"UL3wg7LMuX8Myw3R")

            # 轮询检查执行结果
            logger._LrABuKib("jT8A5FYmbIXPyeO3")
            _cRSkoWCK = 0
            _ZeKEwBxi _XatSvoSd:
                _cRSkoWCK += 1
                logger._LrABuKib(_NGpzqtWZ"UMfeYFZnC0XIPUAG")
                _OlDjyxsT = _JpUlNoBt._PRlwqDgA(_IkmpTiDL)
                _PXHeFTzs _IkmpTiDL _rggHtBTN _OlDjyxsT:
                    _LJBJcgmM = _OlDjyxsT[_IkmpTiDL]
                    _PXHeFTzs "M5GAYd6R5ZI2fSww" _rggHtBTN _LJBJcgmM:
                        logger._NSzTjMCD("3oV1riUc26Y9Aw3j")
                        logger._NSzTjMCD(_NGpzqtWZ"BCTievTB5CcUeLRM")
                        
                        _PXHeFTzs "CaeDDbEqJhqm4Lvs" _rggHtBTN _LJBJcgmM:
                            _EGOsSChe _WaraiZug, _NSzTjMCD _rggHtBTN _LJBJcgmM["CaeDDbEqJhqm4Lvs"]._DJtKXjNd():
                                logger._NSzTjMCD(_NGpzqtWZ"pKk62z2DBaDiBeGb")
                        _PXHeFTzs "kHVCCYkclhc4IxVl" _rggHtBTN _LJBJcgmM:
                            logger._LrABuKib(_NGpzqtWZ"Ne7XoiVTrjZ9a8cE")
                    _nFNcgXaR:
                        logger._LrABuKib("0rtxvplfvoKqfjXF")
                        logger._LrABuKib(_NGpzqtWZ"GGumIv9D1DmiRMCK")
                        # 下载生成的视频
                        _lXyYkUpT = _LJBJcgmM["YUtYr2Svl5ZkcjyC"]["2c6QSq3W5FBVjUYC"]["GyW2hkMR8ftl9xc5"][0]["nRUozIo2r2BIgRrH"]
                        _jRmxxqzO:
                            _iPawdOVx = _JpUlNoBt._WXyeDiqP(_lXyYkUpT)
                            _NumIhYSn _JSlseLwu("NB6nIzrXA9cZXyUS", "o2oHnXzEXT2haXZ2") _VGpksljQ _NGpzqtWZ:
                                _NGpzqtWZ._GTxfVlAB(_iPawdOVx)
                            logger._LrABuKib("jUVztceskyPpqK1u")
                        _iAtPiwzO Exception _VGpksljQ _pTqpXASO:
                            logger._NSzTjMCD(_NGpzqtWZ"FnFAfKsxCm20k7X7")
                            _OdilBhPY
                    _bPBapidl
                logger._LrABuKib("BncnFnGyoYb0yekm")
                _zzmlnvhE._TGlbjdef(1)
                
    _iAtPiwzO Exception _VGpksljQ _pTqpXASO:
        logger._NSzTjMCD(_NGpzqtWZ"C1Ffazk9bgEgfJzR")
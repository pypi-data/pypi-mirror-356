[tool.poetry]
name = "datateer-cli"
version = "1.1.0"
description = "Datateer CLI to support devops and infrastructure"
authors = ["Datateer <dev@datateer.com>"]
readme = "readme.md"

[tool.poetry.dependencies]
python = "^3.9"
click = ">=7.0"
PyYAML = ">6.0.0"
pathspec = "^0.9.0"
boto3 = "^1.24.46"
google-cloud-storage = "^2.5.0"
pygraphviz = { version = "^1.10", optional = true }
erd-python = "^0.6.2"
# certifi updated trust of certificates, pinning this is supposed to help avoid the error Runtime Error
# 254007: The certificate is revoked or could not be validated: hostname=sfc-va3-ds1-6-customer-stage.s3.amazonaws.com
# https://getdbt.slack.com/archives/CBSQTAPLG/p1745867377109059?thread_ts=1745842493.082749&cid=CBSQTAPLG
certifi = "2025.1.31"

[tool.poetry.dev-dependencies]
coverage = "^6.2"
pytest = "^6.2.5"
flake8 = "^4.0.1"
pytest-watch = "^4.2.0"
black = "^22.1.0"
moto = "^3.1.9"

[tool.poetry.extras]
visualization = ["erd-python", "pygraphviz"]

[tool.poetry.scripts]
datateer = "datateer_cli.cli:main"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.isort]
profile = "black"

[tool.semantic_release]
version_toml = ["pyproject.toml:tool.poetry.version",]
branch = "main"
upload_to_pypi = true
upload_to_release = true
build_command = "pip install poetry && poetry build"

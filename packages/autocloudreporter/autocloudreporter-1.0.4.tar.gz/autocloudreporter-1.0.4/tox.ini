[tox]
envlist = py35,py36,py37,py38
skip_missing_interpreters=true
[testenv]
# Not using deps, because it does not appear to handle extras
# properly - it doesn't install the resultsdb_conventions
# extras. So call pip install directly
commands=python3 -m pip install -r{toxinidir}/install.requires -r{toxinidir}/tests.requires -r{toxinidir}/tox.requires
         python3 -m pytest --cov-report term-missing --cov-report xml --cov autocloudreporter
         diff-cover coverage.xml --fail-under=90
         diff-quality --violations=pylint --fail-under=90
setenv =
    PYTHONPATH = {toxinidir}

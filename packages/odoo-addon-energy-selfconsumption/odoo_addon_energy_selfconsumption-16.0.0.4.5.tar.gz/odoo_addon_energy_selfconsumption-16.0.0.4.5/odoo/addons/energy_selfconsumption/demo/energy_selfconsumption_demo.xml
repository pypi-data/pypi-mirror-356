<odoo>

  <record
    id="selfconsumption_1_community_1_demo"
    model="energy_selfconsumption.selfconsumption"
  >
    <field name="name">Autoconsum Barri Sants</field>
    <field
      name="type"
      ref="energy_selfconsumption.selfconsumption_project_type"
    />
    <field name="state">inscription</field>
    <field name="power">127</field>
    <field name="code">ES1234123456789012JY1FA000</field>
    <field name="cil">ES1234123456789012JY1F123</field>
    <field name="street">Carrer de Sants, 79</field>
    <field name="zip">08014</field>
    <field name="city">Barcelona</field>
    <field name="state_id" ref="base.state_es_b" />
    <field name="country_id" ref="base.es" />
    <field
      name="owner_id"
      eval="obj(ref('energy_communities.energy_community_company_1_wizard')).new_company_id.partner_id"
      model="account.multicompany.easy.creation.wiz"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
  </record>

  <record
    id="selfconsumption_2_community_1_demo"
    model="energy_selfconsumption.selfconsumption"
  >
    <field name="name">Coòpolis, Ateneu Cooperatiu de Barcelona</field>
    <field
      name="type"
      ref="energy_selfconsumption.selfconsumption_project_type"
    />
    <field name="state">draft</field>
    <field name="power">31</field>
    <field name="code">ES0288529119082650SF1FA000</field>
    <field name="cil">ES0288529119082650SF1F123</field>
    <field name="street">Carrer de la Constitució, 19</field>
    <field name="zip">08014</field>
    <field name="city">Barcelona</field>
    <field name="state_id" ref="base.state_es_b" />
    <field name="country_id" ref="base.es" />
    <field
      name="owner_id"
      eval="obj(ref('energy_communities.energy_community_company_1_wizard')).new_company_id.partner_id"
      model="account.multicompany.easy.creation.wiz"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
  </record>

  <record
    id="inscription_1_selfconsumption_1_demo"
    model="energy_project.inscription"
  >
    <field
      name="project_id"
      model="energy_selfconsumption.selfconsumption"
      eval="obj(ref('selfconsumption_1_community_1_demo')).project_id"
    />
    <field name="effective_date" eval="datetime.today()" />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
    <field
      name="mandate_id"
      model="subscription.request"
      search="[('partner_id', '=', obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).partner_id.id)]"
    />

  </record>

  <record
    id="inscription_2_selfconsumption_1_demo"
    model="energy_project.inscription"
  >
    <field
      name="project_id"
      model="energy_selfconsumption.selfconsumption"
      eval="obj(ref('selfconsumption_1_community_1_demo')).project_id"
    />
    <field name="effective_date" eval="datetime.today()" />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_2_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_2_community_1_demo')).company_id"
      model="subscription.request"
    />
    <field
      name="mandate_id"
      model="subscription.request"
      search="[('partner_id', '=', obj(ref('energy_communities_cooperator.subscription_2_community_1_demo')).partner_id.id)]"
    />
  </record>

  <record
    id="inscription_3_selfconsumption_1_demo"
    model="energy_project.inscription"
  >
    <field
      name="project_id"
      model="energy_selfconsumption.selfconsumption"
      eval="obj(ref('selfconsumption_1_community_1_demo')).project_id"
    />
    <field name="effective_date" eval="datetime.today()" />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_3_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_3_community_1_demo')).company_id"
      model="subscription.request"
    />
    <field name="mandate_id"
      model="subscription.request"
      search="[('partner_id', '=', obj(ref('energy_communities_cooperator.subscription_3_community_1_demo')).partner_id.id)]"
    />
  </record>

  <record
    id="inscription_4_selfconsumption_1_demo"
    model="energy_project.inscription"
  >
    <field
      name="project_id"
      model="energy_selfconsumption.selfconsumption"
      eval="obj(ref('selfconsumption_1_community_1_demo')).project_id"
    />
    <field name="effective_date" eval="datetime.today()" />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_4_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_4_community_1_demo')).company_id"
      model="subscription.request"
    />
    <field
      name="mandate_id"
      model="subscription.request"
      search="[('partner_id', '=', obj(ref('energy_communities_cooperator.subscription_4_community_1_demo')).partner_id.id)]"
    />
  </record>

  <record
    id="inscription_5_selfconsumption_1_demo"
    model="energy_project.inscription"
  >
    <field
      name="project_id"
      model="energy_selfconsumption.selfconsumption"
      eval="obj(ref('selfconsumption_1_community_1_demo')).project_id"
    />
    <field name="effective_date" eval="datetime.today()" />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_5_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_5_community_1_demo')).company_id"
      model="subscription.request"
    />
    <field name="mandate_id"
      model="subscription.request"
      search="[('partner_id', '=', obj(ref('energy_communities_cooperator.subscription_5_community_1_demo')).partner_id.id)]"
    />
  </record>

  <record
    id="supply_point_1_selfconsumption_1_demo"
    model="energy_selfconsumption.supply_point"
  >
    <field name="name">Casa Ignacio Mora</field>
    <field name="code">ES0024608953382065ZD1F</field>
    <field name="street">C. de Sta. Catalina</field>
    <field name="street2">55º B</field>
    <field name="zip">08014</field>
    <field name="city">Barcelona</field>
    <field name="state_id" ref="base.state_es_b" />
    <field name="country_id" ref="base.es" />
    <field
      name="owner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
  </record>

  <record
    id="inscription_selfconsumption_1_selfconsumption_1_demo"
    model="energy_selfconsumption.inscription_selfconsumption"
  >
    <field name="selfconsumption_project_id" eval="ref('selfconsumption_1_community_1_demo')" model="energy_selfconsumption.selfconsumption" />
    <field name="inscription_id" eval="ref('inscription_1_selfconsumption_1_demo')" model="energy_project.inscription" />
    <field name="annual_electricity_use">1.00</field>
    <field
      model="energy_selfconsumptions.participation"
      name="participation_id"
      search="[('project_id', '=', ref('selfconsumption_1_community_1_demo')),('quantity','=',0.5)]"
    />
    <field name="accept" eval="True" />
    <field name="member" eval="True" />
    <field name="supply_point_id" ref="supply_point_1_selfconsumption_1_demo" />
  </record>

  <record
    id="supply_point_2_selfconsumption_1_demo"
    model="energy_selfconsumption.supply_point"
  >
    <field name="name">Casa Jessica Tirado</field>
    <field name="code">ES0023113487471897NJ1F</field>
    <field name="street">Carrer de Robrenyo, 9-1</field>
    <field name="street2">45</field>
    <field name="zip">08014</field>
    <field name="city">Barcelona</field>
    <field name="state_id" ref="base.state_es_b" />
    <field name="country_id" ref="base.es" />
    <field
      name="owner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_2_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_2_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
  </record>

  <record
    id="inscription_selfconsumption_2_selfconsumption_1_demo"
    model="energy_selfconsumption.inscription_selfconsumption"
  >
    <field name="selfconsumption_project_id" eval="ref('selfconsumption_1_community_1_demo')" model="energy_selfconsumption.selfconsumption" />
    <field name="inscription_id" eval="ref('inscription_2_selfconsumption_1_demo')" model="energy_project.inscription" />
    <field name="annual_electricity_use">1.00</field>
    <field
      model="energy_selfconsumptions.participation"
      name="participation_id"
      search="[('project_id', '=', ref('selfconsumption_1_community_1_demo')),('quantity','=',0.5)]"
    />
    <field name="accept" eval="True" />
    <field name="member" eval="True" />
    <field name="supply_point_id" ref="supply_point_2_selfconsumption_1_demo" />
  </record>

  <record
    id="supply_point_3_selfconsumption_1_demo"
    model="energy_selfconsumption.supply_point"
  >
    <field name="name">Trabajo Ester - Antigua Fábrica de Juguetes Rico</field>
    <field name="code">ES0023497233071974KY1F</field>
    <field name="street">Carrer les Eres</field>
    <field name="street2">74</field>
    <field name="zip">03440</field>
    <field name="city">Ibi</field>
    <field name="state_id" ref="base.state_es_b" />
    <field name="country_id" ref="base.es" />
    <field
      name="owner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_3_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_3_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
  </record>

  <record
    id="inscription_selfconsumption_3_selfconsumption_1_demo"
    model="energy_selfconsumption.inscription_selfconsumption"
  >
    <field name="selfconsumption_project_id" eval="ref('selfconsumption_1_community_1_demo')" model="energy_selfconsumption.selfconsumption" />
    <field name="inscription_id" eval="ref('inscription_3_selfconsumption_1_demo')" model="energy_project.inscription" />
    <field name="annual_electricity_use">1.00</field>
    <field
      model="energy_selfconsumptions.participation"
      name="participation_id"
      search="[('project_id', '=', ref('selfconsumption_1_community_1_demo')),('quantity','=',0.5)]"
    />
    <field name="accept" eval="True" />
    <field name="member" eval="True" />
    <field name="supply_point_id" ref="supply_point_3_selfconsumption_1_demo" />
  </record>

  <record
    id="supply_point_4_selfconsumption_1_demo"
    model="energy_selfconsumption.supply_point"
  >
    <field name="name">Casa Ester Ojeda</field>
    <field name="code">ES0396148792876506WW1F</field>
    <field name="street">C/ de Salou, 8</field>
    <field name="street2">78</field>
    <field name="zip">08014</field>
    <field name="city">Barcelona</field>
    <field name="state_id" ref="base.state_es_b" />
    <field name="country_id" ref="base.es" />
    <field
      name="owner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_4_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_4_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
  </record>

  <record
    id="inscription_selfconsumption_4_selfconsumption_1_demo"
    model="energy_selfconsumption.inscription_selfconsumption"
  >
    <field name="selfconsumption_project_id" eval="ref('selfconsumption_1_community_1_demo')" model="energy_selfconsumption.selfconsumption" />
    <field name="inscription_id" eval="ref('inscription_4_selfconsumption_1_demo')" model="energy_project.inscription" />
    <field name="annual_electricity_use">1.00</field>
    <field
      model="energy_selfconsumptions.participation"
      name="participation_id"
      search="[('project_id', '=', ref('selfconsumption_1_community_1_demo')),('quantity','=',0.5)]"
    />
    <field name="accept" eval="True" />
    <field name="member" eval="True" />
    <field name="supply_point_id" ref="supply_point_4_selfconsumption_1_demo" />
  </record>

  <record
    id="supply_point_5_selfconsumption_1_demo"
    model="energy_selfconsumption.supply_point"
  >
    <field name="name">Casa Marc Ortiz</field>
    <field name="code">ES0029746403052234TY1F</field>
    <field name="street">C/ de Cerdanyola</field>
    <field name="street2">16</field>
    <field name="zip">08028</field>
    <field name="city">Barcelona</field>
    <field name="state_id" ref="base.state_es_b" />
    <field name="country_id" ref="base.es" />
    <field
      name="owner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_5_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="partner_id"
      eval="obj(ref('energy_communities_cooperator.subscription_5_community_1_demo')).partner_id"
      model="subscription.request"
    />
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
  </record>

  <record
    id="inscription_selfconsumption_5_selfconsumption_1_demo"
    model="energy_selfconsumption.inscription_selfconsumption"
  >
    <field name="selfconsumption_project_id" eval="ref('selfconsumption_1_community_1_demo')" model="energy_selfconsumption.selfconsumption" />
    <field name="inscription_id" eval="ref('inscription_5_selfconsumption_1_demo')" model="energy_project.inscription" />
    <field name="annual_electricity_use">1.00</field>
    <field
      model="energy_selfconsumptions.participation"
      name="participation_id"
      search="[('project_id', '=', ref('selfconsumption_1_community_1_demo')),('quantity','=',0.5)]"
    />
    <field name="accept" eval="True" />
    <field name="member" eval="True" />
    <field name="supply_point_id" ref="supply_point_5_selfconsumption_1_demo" />
  </record>

  <!--  <delete-->
  <!--  model="energy_selfconsumption.supply_point_assignation"-->
  <!--  search="[('supply_point_id','=',ref('supply_point_1_selfconsumption_1_demo'))]"-->
  <!--/>-->
  <!--  <delete-->
  <!--  model="energy_selfconsumption.supply_point_assignation"-->
  <!--  search="[('supply_point_id','=',ref('supply_point_2_selfconsumption_1_demo'))]"-->
  <!--/>-->
  <!--  <delete-->
  <!--  model="energy_selfconsumption.supply_point_assignation"-->
  <!--  search="[('supply_point_id','=',ref('supply_point_3_selfconsumption_1_demo'))]"-->
  <!--/>-->
  <!--  <delete-->
  <!--  model="energy_selfconsumption.supply_point_assignation"-->
  <!--  search="[('supply_point_id','=',ref('supply_point_4_selfconsumption_1_demo'))]"-->
  <!--/>-->
  <!--  <delete-->
  <!--  model="energy_selfconsumption.supply_point_assignation"-->
  <!--  search="[('supply_point_id','=',ref('supply_point_5_selfconsumption_1_demo'))]"-->
  <!--/>-->

  <record
    id="distribution_table_1_selfconsumption_1_demo"
    model="energy_selfconsumption.distribution_table"
  >
    <field name="name">DT001</field>
    <field
      name="selfconsumption_project_id"
      ref="selfconsumption_1_community_1_demo"
    />
    <field name="type">fixed</field>
    <field name="state">draft</field>
    <field
      name="company_id"
      eval="obj(ref('energy_communities_cooperator.subscription_1_community_1_demo')).company_id"
      model="subscription.request"
    />
  </record>

  <record
    id="supply_point_assignation_1_distribution_table_1_demo"
    model="energy_selfconsumption.supply_point_assignation"
  >
    <field
      name="distribution_table_id"
      ref="distribution_table_1_selfconsumption_1_demo"
    />
    <field name="supply_point_id" ref="supply_point_1_selfconsumption_1_demo" />
    <field name="coefficient">0.132</field>
    <field
      name="company_id"
      eval="obj(ref('distribution_table_1_selfconsumption_1_demo')).company_id"
      model="energy_selfconsumption.distribution_table"
    />
  </record>

  <record
    id="supply_point_assignation_2_distribution_table_1_demo"
    model="energy_selfconsumption.supply_point_assignation"
  >
    <field
      name="distribution_table_id"
      ref="distribution_table_1_selfconsumption_1_demo"
    />
    <field name="supply_point_id" ref="supply_point_2_selfconsumption_1_demo" />
    <field name="coefficient">0.112</field>
    <field
      name="company_id"
      eval="obj(ref('distribution_table_1_selfconsumption_1_demo')).company_id"
      model="energy_selfconsumption.distribution_table"
    />
  </record>

  <record
    id="supply_point_assignation_3_distribution_table_1_demo"
    model="energy_selfconsumption.supply_point_assignation"
  >
    <field
      name="distribution_table_id"
      ref="distribution_table_1_selfconsumption_1_demo"
    />
    <field name="supply_point_id" ref="supply_point_3_selfconsumption_1_demo" />
    <field name="coefficient">0.101</field>
    <field
      name="company_id"
      eval="obj(ref('distribution_table_1_selfconsumption_1_demo')).company_id"
      model="energy_selfconsumption.distribution_table"
    />
  </record>

  <record
    id="supply_point_assignation_4_distribution_table_1_demo"
    model="energy_selfconsumption.supply_point_assignation"
  >
    <field
      name="distribution_table_id"
      ref="distribution_table_1_selfconsumption_1_demo"
    />
    <field name="supply_point_id" ref="supply_point_4_selfconsumption_1_demo" />
    <field name="coefficient">0.098</field>
    <field
      name="company_id"
      eval="obj(ref('distribution_table_1_selfconsumption_1_demo')).company_id"
      model="energy_selfconsumption.distribution_table"
    />
  </record>

  <record
    id="supply_point_assignation_5_distribution_table_1_demo"
    model="energy_selfconsumption.supply_point_assignation"
  >
    <field
      name="distribution_table_id"
      ref="distribution_table_1_selfconsumption_1_demo"
    />
    <field name="supply_point_id" ref="supply_point_5_selfconsumption_1_demo" />
    <field name="coefficient">0.557</field>
    <field
      name="company_id"
      eval="obj(ref('distribution_table_1_selfconsumption_1_demo')).company_id"
      model="energy_selfconsumption.distribution_table"
    />
  </record>

  <function
    name="button_validate"
    model="energy_selfconsumption.distribution_table"
    eval="[ref('distribution_table_1_selfconsumption_1_demo')]"
  />

  <function
    name="set_in_activation_state"
    model="energy_selfconsumption.selfconsumption"
    eval="[ref('selfconsumption_1_community_1_demo')]"
  />

</odoo>

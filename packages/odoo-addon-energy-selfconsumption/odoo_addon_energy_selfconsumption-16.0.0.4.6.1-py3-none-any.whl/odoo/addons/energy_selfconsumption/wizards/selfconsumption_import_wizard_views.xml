<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>

        <record id="selfconsumption_import_wizard_form_view" model="ir.ui.view">
            <field
        name="name"
      >energy_selfconsumption.selfconsumption_import.wizard.form</field>
            <field
        name="model"
      >energy_selfconsumption.selfconsumption_import.wizard</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <p
            >You can download an example template for the importation of inscriptions and supply points.
                            The template must have the following format and be a CSV file.</p>
                        <p
            >In the state list file, you can check which code is assigned for your state.</p>
                        <p attrs="{'invisible':[('conf_bank_details','=', True)]}" style="color: red;"
            >Warning: In the configuration of this registration, importing bank account is not marked.</p>
                        <button
              type="object"
              class="btn btn-primary mr-1"
              name="download_template_button"
            >Download
                            Template</button>
                        <!-- <button
              type="object"
              class="btn btn-secondary mr-1"
              name="download_list_button"
            >Download State List</button> -->
                        <button
              type="object"
              class="btn btn-secondary mr-1"
              string="Autogenerate data (Existent data)"
              name="set_autogenerate_inscriptions"
              attrs="{'invisible':[('user_current_role','!=','role_platform_admin')]}"
            />
                        <button
              type="object"
              class="btn btn-secondary mr-1"
              string="Autogenerate data (New data)"
              name="set_autogenerate_inscriptions_mandataris_supply_points"
              attrs="{'invisible':[('user_current_role','!=','role_platform_admin')]}"
            />
                        <separator />
                        <group>
                            <field name="user_current_role" invisible="1" />
                            <field name="conf_bank_details" invisible="1" />
                            <field
                name="import_file"
                filename="fname"
                widget="binary"
              />
                            <field name="fname" invisible="1" />
                        </group>
                        <group>
                            <field name="date_format" />
                            <field name="delimiter" />
                            <field name="quotechar" />
                            <field name="encoding" />
                        </group>
                    </sheet>
                    <footer>
                        <button type="object" name="import_file_button">Import</button>
                    </footer>
                </form>
            </field>
        </record>

        <record id="selfconsumption_import_wizard_action" model="ir.actions.act_window">
            <field name="name">Import data</field>
            <field
        name="res_model"
      >energy_selfconsumption.selfconsumption_import.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
    </data>
</odoo>

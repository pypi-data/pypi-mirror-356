(()=>{"use strict";var e={5057:(e,t,a)=>{var o=a(3751),n=a(641);const r={id:"app"};function i(e,t,a,o,i,l){const s=(0,n.g2)("PdfViewer"),d=(0,n.g2)("WithStreamlitConnection");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(d,null,{default:(0,n.k6)((({args:e})=>[(0,n.bF)(s,{args:e},null,8,["args"])])),_:1})])}var l=a(33);const s={key:0},d=["disabled"],u={class:"page-info"},c=["max"],p={class:"page-separator"},v=["disabled"],g={class:"zoom-controls"},h=["disabled"],m={class:"zoom-display"},y=["disabled"],w={key:1},f=["src","width","height"],b={key:2},x=["src","width","height"],_={key:3};function E(e,t,a,r,i,E){return(0,n.uX)(),(0,n.CE)("div",{id:"pdfContainer",style:(0,l.Tr)(r.pdfContainerStyle)},["unwrap"===a.args.rendering?((0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",{class:"pdf-toolbar",style:(0,l.Tr)(r.toolbarStyle)},[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.goToPreviousPage&&r.goToPreviousPage(...e)),disabled:r.currentPage<=1,class:"nav-button",title:"Previous Page"}," ‹ ",8,d),(0,n.Lk)("div",u,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.pageInputValue=e),onKeyup:t[2]||(t[2]=(0,o.jR)(((...e)=>r.goToPage&&r.goToPage(...e)),["enter"])),onBlur:t[3]||(t[3]=(...e)=>r.goToPage&&r.goToPage(...e)),onInput:t[4]||(t[4]=(...e)=>r.validatePageInput&&r.validatePageInput(...e)),type:"number",min:1,max:r.totalPages,class:"page-input"},null,40,c),[[o.Jo,r.pageInputValue]]),(0,n.Lk)("span",p,"/ "+(0,l.v_)(r.totalPages),1)]),(0,n.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.goToNextPage&&r.goToNextPage(...e)),disabled:r.currentPage>=r.totalPages,class:"nav-button",title:"Next Page"}," › ",8,v),(0,n.Lk)("div",g,[(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>r.zoomOut&&r.zoomOut(...e)),disabled:r.currentZoom<=r.minZoom,class:"zoom-button",title:"Zoom Out"}," - ",8,h),(0,n.Lk)("span",m,(0,l.v_)(Math.round(100*r.currentZoom))+"%",1),(0,n.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.zoomIn&&r.zoomIn(...e)),disabled:r.currentZoom>=r.maxZoom,class:"zoom-button",title:"Zoom In"}," + ",8,y),(0,n.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>r.resetZoom&&r.resetZoom(...e)),class:"zoom-reset-button",title:"Reset Zoom"}," Reset ")])],4),(0,n.Lk)("div",{id:"pdfViewer",style:(0,l.Tr)(r.pdfViewerStyle)},null,4)])):"legacy_embed"===a.args.rendering?((0,n.uX)(),(0,n.CE)("div",w,[(0,n.Lk)("embed",{src:`data:application/pdf;base64,${a.args.binary}`,width:`${a.args.width}`,height:`${a.args.height}`,type:"application/pdf"},null,8,f)])):"legacy_iframe"===a.args.rendering?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("embed",{src:`data:application/pdf;base64,${a.args.binary}`,width:`${a.args.width}`,height:`${a.args.height}`,type:"application/pdf"},null,8,x)])):((0,n.uX)(),(0,n.CE)("div",_," Error rendering option. "))],4)}a(4114),a(8111),a(2489),a(7588);var k=a(953),C=(a(951),a(9936)),P=a(7445),I=a(8221),R=a.n(I);const $="pdfjs-dist/cmaps/",L=!0,V=!0,T=["solid","dashed","dotted","double","groove","ridge","inset","outset","none",void 0,null],z={props:["args"],setup(e){const t=(0,k.KR)(0),a=(0,k.KR)(0),o=(0,k.KR)([]),r=(0,k.KR)([]),i=(0,k.KR)([]),l=(0,k.KR)(e.args.height||0),s=(0,k.KR)(1),d=(0,k.KR)(0),u=(0,k.KR)(1),c=(0,k.KR)(1),p=(0,k.KR)(.5),v=(0,k.KR)(3),g=(0,k.KR)(.25),h=(0,k.KR)(1),m=()=>{const t=w(e.args.width);"percent"===t.type?a.value=Math.floor(t.value*window.innerWidth):a.value=t.value,a.value=Math.max(a.value,300),a.value=Math.min(a.value,window.innerWidth)},y=(e.args.pages_to_render.length,!0===e.args.render_text),w=(e,t=window.innerWidth)=>{if(!e)return{type:"percent",value:1};if("string"===typeof e&&e.endsWith("%")){const t=parseFloat(e);if(!isNaN(t))return{type:"percent",value:t/100}}const a=Number(e);return!isNaN(a)&&a>0?{type:"pixel",value:a}:{type:"percent",value:1}},f=(0,n.EW)((()=>{const t=w(e.args.width),a="percent"===t.type?100*t.value+"%":`${t.value}px`;return{width:a,height:e.args.height?`${e.args.height}px`:"auto",overflow:"auto",position:"relative"}})),b={position:"relative"},x=(0,n.EW)((()=>({display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",padding:"8px 16px",backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd",position:"sticky",top:"0",zIndex:1e3,fontSize:"14px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",width:"100%",boxSizing:"border-box"}))),_=e=>{e&&(e.innerHTML="")},E=(e,t,a,o,n=1)=>{const r=e.getViewport({scale:t,rotation:a}),i=(window.devicePixelRatio||1)*n,l=document.createElement("canvas");return l.id=`canvas_page_${o}`,l.height=r.height*i,l.width=r.width*i,l.style.width=`${r.width}px`,l.style.height=`${r.height}px`,l.style.display="block",l.getContext("2d").scale(i,i),l},I=(t,a,o,n)=>{const r=document.createElement("div");t.id=`${t.id||a}`,r.id=`annotation-${t.id}`,r.setAttribute("data-index",t.id),r.style.position="absolute",r.style.left=t.x*n+"px",r.style.top=t.y*n+"px",r.style.width=t.width*n+"px",r.style.height=t.height*n+"px";let i=t.border;t.border&&T.includes(t.border)||(i="solid"),r.style.outline=`${e.args.annotation_outline_size*n}px ${i} ${t.color}`,r.style.cursor=y?"text":"pointer",r.style.pointerEvents=y?"none":"auto",r.style.zIndex=10,y||r.addEventListener("click",(()=>{P.wk.setComponentValue({clicked_annotation:{index:t.id,...t}})})),o.appendChild(r)},z=async(t,a,o,n,r)=>{const i={canvasContext:a.getContext("2d"),viewport:o};await t.render(i).promise;const l=document.createElement("div");l.className="page",l.style.position="relative",l.style.width=`${o.width}px`,l.style.height=`${o.height}px`,l.style.marginBottom=`${e.args.pages_vertical_spacing}px`;const s=document.createElement("div");if(s.className="canvasWrapper",s.style.position="absolute",s.style.top="0",s.style.left="0",s.appendChild(a),l.appendChild(s),y){const e=await t.getTextContent(),a=document.createElement("div");a.className="textLayer",a.style.zIndex="11",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height=`${o.height}px`,a.style.width=`${o.width}px`;const n=new C.D6({textContentSource:e,container:a,viewport:o,textDivs:[]});await n.render(),l.appendChild(a)}n&&n.length>0&&n.forEach(((e,t)=>{const a=r+t;I(e,a,l,o.scale)}));const d=document.getElementById("pdfViewer");d.appendChild(l)},M=t=>0===e.args.pages_to_render.length?Array.from({length:t},((e,t)=>t+1)):e.args.pages_to_render,K=async(n,l,p)=>{t.value=0,o.value=[],r.value=[],i.value=[],d.value=n.numPages,s.value<1?s.value=1:s.value>d.value&&(s.value=d.value),u.value=s.value;const v=e.args.resolution_boost||1;let g=0;for(let s=1;s<=n.numPages;s++){const d=await n.getPage(s),u=d.rotate,m=d.getViewport({scale:1,rotation:u}),y=a.value/m.width*c.value;if(1===s&&1===h.value&&(h.value=a.value/m.width),o.value.push(y),r.value.push(m.height),p.includes(s)){const a=E(d,y,u,s,v);l.style.setProperty("--scale-factor",y);const o=d.getViewport({scale:y,rotation:u,intent:"print"}),n=e.args.annotations.filter((e=>Number(e.page)===s));t.value+=a.height/((window.devicePixelRatio||1)*v),await z(d,a,o,n,g),g+=n.length,a.id&&i.value.push(a.id)}}p.length>0&&(t.value-=e.args.pages_vertical_spacing)},N=e=>{console.error(e),window.alert(e.message)},S=async e=>{C.EA.workerSrc="pdfjs-dist/build/pdf.worker.mjs";try{const t=(0,C.YE)({url:e,cMapUrl:$,cMapPacked:L,enableXfa:V}),a=await t.promise,o=document.getElementById("pdfViewer");_(o);const n=M(a.numPages);await K(a,o,n),q()}catch(t){N(t)}},O=()=>{const e=document.getElementById("pdfContainer");if(!e)return;const t=e.getBoundingClientRect(),a=t.top,o=t.bottom;let n=s.value,r=0;for(let i=1;i<=d.value;i++){const e=document.getElementById(`canvas_page_${i}`);if(e){const t=e.getBoundingClientRect(),l=Math.max(t.top,a),s=Math.min(t.bottom,o),d=Math.max(0,s-l),u=d*t.width;u>r&&(r=u,n=i)}}(r>0||s.value<1||s.value>d.value)&&s.value!==n&&(s.value=n,u.value=n)},B=()=>{u.value<1?u.value=1:u.value>d.value&&(u.value=d.value)},Z=()=>{B();const e=parseInt(u.value);if(e>=1&&e<=d.value){const t=document.getElementById(`canvas_page_${e}`);t?(t.scrollIntoView({behavior:"smooth"}),s.value=e):u.value=s.value}else u.value=s.value},W=()=>{s.value>1&&d.value>0&&(u.value=s.value-1,Z())},j=()=>{s.value<d.value&&d.value>0&&(u.value=s.value+1,Z())},X=async()=>{const e=Math.min(c.value+g.value,v.value);e!==c.value&&(c.value=e,await F())},D=async()=>{const e=Math.max(c.value-g.value,p.value);e!==c.value&&(c.value=e,await F())},A=async()=>{1!==c.value&&(c.value=1,await F())},F=async()=>{try{const t=`data:application/pdf;base64,${e.args.binary}`,a=(0,C.YE)({url:t,cMapUrl:$,cMapPacked:L,enableXfa:V}),o=await a.promise,n=document.getElementById("pdfViewer");_(n);const r=M(o.numPages);await K(o,n,r),H()}catch(t){N(t)}},q=()=>{if(e.args.scroll_to_page){const t=document.getElementById(`canvas_page_${e.args.scroll_to_page}`);t&&(t.scrollIntoView({behavior:"smooth"}),setTimeout((()=>{s.value=e.args.scroll_to_page,u.value=e.args.scroll_to_page}),500))}else if(e.args.scroll_to_annotation){const t=document.querySelector(`[id^="annotation-"][data-index="${e.args.scroll_to_annotation}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},H=()=>{const a=e.args.height||t.value;a!==l.value&&(P.wk.setFrameHeight(a),l.value=a)},U=()=>{const t=w(e.args.width);let o;o="percent"===t.type?Math.floor(t.value*window.innerWidth):t.value,o=Math.max(o,300),o=Math.min(o,window.innerWidth),o!==a.value&&(a.value=o)},G=async()=>{try{if(console.log("handleResize"),"unwrap"===e.args.rendering){U();const t=`data:application/pdf;base64,${e.args.binary}`;await S(t),H()}}catch(t){console.error(t)}},Y=R()(G,200),J=R()(O,100),Q=()=>{const e=document.querySelector(".pdf-toolbar");e&&(e.style.position="sticky",e.style.top="0",e.style.zIndex="1000")},ee=R()(Q,100);return(0,n.sV)((()=>{m(),Y(),window.addEventListener("resize",Y);const e=document.getElementById("pdfContainer");e&&(e.addEventListener("scroll",J),e.addEventListener("scroll",ee)),setTimeout(Q,100)})),(0,n.hi)((()=>{window.removeEventListener("resize",Y);const e=document.getElementById("pdfContainer");e&&(e.removeEventListener("scroll",J),e.removeEventListener("scroll",ee))})),{pdfContainerStyle:f,pdfViewerStyle:b,currentPage:s,pageInputValue:u,totalPages:d,toolbarStyle:x,goToPreviousPage:W,goToNextPage:j,goToPage:Z,validatePageInput:B,currentZoom:c,minZoom:p,maxZoom:v,zoomIn:X,zoomOut:D,resetZoom:A}}};var M=a(6262);const K=(0,M.A)(z,[["render",E]]),N=K,S={key:0},O={class:"err__msg"};function B(e,t,a,o,r,i){return(0,n.uX)(),(0,n.CE)("div",null,[""!=e.componentError?((0,n.uX)(),(0,n.CE)("div",S,[t[0]||(t[0]=(0,n.Lk)("h1",{class:"err__title"},"Component Error",-1)),(0,n.Lk)("div",O,"Message: "+(0,l.v_)(e.componentError),1)])):null!=e.renderData?(0,n.RG)(e.$slots,"default",{key:1,args:e.renderData.args,disabled:e.renderData.disabled},void 0,!0):(0,n.Q3)("",!0)])}const Z=(0,n.pM)({name:"WithStreamlitConnection",setup(){const e=(0,k.KR)(void 0),t=(0,k.KR)(""),a=a=>{const o=a;e.value=o.detail,t.value=""};return(0,n.sV)((()=>{P.wk.events.addEventListener(P.wk.RENDER_EVENT,a),P.wk.setComponentReady()})),(0,n.$u)((()=>{""!=t.value&&P.wk.setFrameHeight()})),(0,n.hi)((()=>{P.wk.events.removeEventListener(P.wk.RENDER_EVENT,a)})),(0,n.qG)((e=>{t.value=String(e)})),{renderData:e,componentError:t}}}),W=(0,M.A)(Z,[["render",B],["__scopeId","data-v-bef81972"]]),j=W,X=(0,n.pM)({name:"App",components:{PdfViewer:N,WithStreamlitConnection:j}}),D=(0,M.A)(X,[["render",i]]),A=D;(0,o.Ef)(A).mount("#app")}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,a),r.exports}a.m=e,(()=>{var e=[];a.O=(t,o,n,r)=>{if(!o){var i=1/0;for(u=0;u<e.length;u++){for(var[o,n,r]=e[u],l=!0,s=0;s<o.length;s++)(!1&r||i>=r)&&Object.keys(a.O).every((e=>a.O[e](o[s])))?o.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(u--,1);var d=n();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,n,r]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,o)=>{var n,r,[i,l,s]=o,d=0;if(i.some((t=>0!==e[t]))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var u=s(a)}for(t&&t(o);d<i.length;d++)r=i[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},o=self["webpackChunkstreamlit_pdf_viewer"]=self["webpackChunkstreamlit_pdf_viewer"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=a.O(void 0,[504],(()=>a(5057)));o=a.O(o)})();
//# sourceMappingURL=app.99c6acc0.js.map
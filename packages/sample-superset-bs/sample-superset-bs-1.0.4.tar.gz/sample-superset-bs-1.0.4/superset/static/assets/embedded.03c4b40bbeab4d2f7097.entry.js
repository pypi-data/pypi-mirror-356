(()=>{"use strict";var e,a,t,d,c,r,n={31484:(e,a,t)=>{t(33533);var d,c=t(96540),r=t(40961),n=t(71519),o=t(61574),i=t(5362),s=t(78518),b=t(93505);!function(e){e.GET="get",e.REPLY="reply",e.EMIT="emit",e.ERROR="error"}(d||(d={}));const f=new class{constructor(e){this.port=void 0,this.name="",this.methods={},this.incrementor=1,this.debugMode=void 0,this.isInitialised=void 0,e&&this.init(e)}init(e){if(this.isInitialised)return void this.logError("already initialized");const{port:a,name:t="switchboard",debug:c=!1}=e;this.port=a,this.name=t,this.debugMode=c,a.addEventListener("message",(async e=>{this.log("message received",e);const a=e.data;if(function(e){return e.switchboardAction===d.GET}(a))this.port.postMessage(await this.getMethodResult(a));else if(function(e){return e.switchboardAction===d.EMIT}(a)){const{method:e,args:t}=a,d=this.methods[e];d&&d(t)}})),this.isInitialised=!0}async getMethodResult({messageId:e,method:a,args:t}){const c=this.methods[a];if(null==c)return{switchboardAction:d.ERROR,messageId:e,error:`[${this.name}] Method "${a}" is not defined`};try{const a=await c(t);return{switchboardAction:d.REPLY,messageId:e,result:a}}catch(t){return this.logError(t),{switchboardAction:d.ERROR,messageId:e,error:`[${this.name}] Method "${a}" threw an error`}}}defineMethod(e,a){this.methods[e]=a}get(e,a=void 0){return new Promise(((t,c)=>{if(!this.isInitialised)return void c(new Error("Switchboard not initialised"));const r=this.getNewMessageId(),n=e=>{const a=e.data;if(a.messageId===r)if(this.port.removeEventListener("message",n),function(e){return e.switchboardAction===d.REPLY}(a))t(a.result);else{const e=function(e){return e.switchboardAction===d.ERROR}(a)?a.error:"Unexpected response message";c(new Error(e))}};this.port.addEventListener("message",n),this.port.start();const o={switchboardAction:d.GET,method:e,messageId:r,args:a};this.port.postMessage(o)}))}emit(e,a=void 0){if(!this.isInitialised)return void this.logError("Switchboard not initialised");const t={switchboardAction:d.EMIT,method:e,args:a};this.port.postMessage(t)}start(){this.isInitialised?this.port.start():this.logError("Switchboard not initialised")}log(...e){this.debugMode&&console.debug(`[${this.name}]`,...e)}logError(...e){console.error(`[${this.name}]`,...e)}getNewMessageId(){return`m_${this.name}_${this.incrementor++}`}};var l=t(38708),h=t(53894),u=t(10992),m=t(35837),p=t(16025),g=t(94131),v=t(49544),y=t(17444),w=t(95272),M=t(64814),E=t(32132);const k=(0,l.Ay)(),_=()=>({width:document.body.scrollWidth,height:document.body.scrollHeight}),A=async({anchor:e})=>{var a,t;const d=null==g.M_?void 0:g.M_.getState(),{dashboardId:c,dataMask:r,activeTabs:n}={dashboardId:(null==d||null==(a=d.dashboardInfo)?void 0:a.id)||(null==k?void 0:k.embedded.dashboard_id),dataMask:null==d?void 0:d.dataMask,activeTabs:null==(t=d.dashboardState)?void 0:t.activeTabs};return(0,E.oq)({dashboardId:c,dataMask:r,activeTabs:n,anchor:e})},O=()=>{var e,a;return(null==g.M_||null==(e=g.M_.getState())||null==(a=e.dashboardState)?void 0:a.activeTabs)||[]},T=()=>{var e;return(null==g.M_||null==(e=g.M_.getState())?void 0:e.dataMask)||{}};var j=t(2404),S=t.n(j),I=t(62193),C=t.n(I),R=t(58919);const N=(e,a)=>{let t=!1,d=!1;if(!C()(e)&&!C()(a))for(const c in e){if(c.startsWith(R._L)&&!S()(e[c],a[c])){d=!0;break}if(!S()(e[c],a[c])){t=!0;break}}return{crossFiltersChanged:t,nativeFiltersChanged:d}};var P=t(2445);(0,u.A)();const L=!1,D=(0,l.Ay)();const Y=(0,c.lazy)((()=>Promise.all([t.e(4229),t.e(2976)]).then(t.bind(t,94229)))),H=()=>{const e=(0,m.Q1)();if(null!=e&&e.emitDataMasks){let e=g.M_.getState().dataMask;g.M_.subscribe((()=>{const a=g.M_.getState().dataMask;e!==a&&(f.emit("observeDataMask",{...a,...N(a,e)}),e=a)}))}return(0,P.Y)(Y,{idOrSlug:D.embedded.dashboard_id})},F=()=>(0,P.Y)(c.Suspense,{fallback:(0,P.Y)(y.A,{}),children:(0,P.FD)(p.Q,{children:[(0,P.Y)(v.A,{children:(0,P.Y)(H,{})}),(0,P.Y)(M.A,{position:"top"})]})}),$=()=>(0,P.FD)(n.Kd,{basename:(0,l.N8)(),children:[(0,P.Y)(o.qh,{path:"/dashboard/:idOrSlug/embedded/",component:F}),(0,P.Y)(o.qh,{path:"/embedded/:uuid/",component:F})]}),x=document.getElementById("app");function G(e){x.innerHTML=e}window.parent&&window.parent!==window||G((0,s.t)("This page is intended to be embedded in an iframe, but it looks like that is not the case."));let q=!1;function B(){q||(q=!0,g.M_.dispatch((0,w.iB)((0,s.t)("This session has encountered an interruption, and some controls may not work as intended. If you are the developer of this app, please check that the guest token is being generated correctly."),{duration:-1,noDuplicate:!0})))}window.addEventListener("message",(function(e){var a;try{!function(e){if("object"!=typeof e.data||"__embedded_comms__"!==e.data.type)throw new Error("Message type does not match type used for embedded comms")}(e)}catch(e){return}const t=null==(a=e.ports)?void 0:a[0];if("port transfer"===e.data.handshake&&t){f.init({port:t,name:"superset",debug:L});let e=!1;f.defineMethod("guestToken",(({guestToken:a})=>{!function(e){var a;(0,h.A)({appRoot:(0,l.N8)(),guestToken:e,guestTokenHeaderName:null==(a=D.config)?void 0:a.GUEST_TOKEN_HEADER_NAME,unauthorizedHandler:B})}(a),e||((0,b.A)({method:"GET",endpoint:"/api/v1/me/roles/"})().then((({result:e})=>{D.user=e,g.M_.dispatch({type:g.sm,user:e}),r.render((0,P.Y)($,{}),x)}),(e=>{i.A.error(e),G((0,s.t)("Something went wrong with embedded authentication. Check the dev console for details."))})),e=!0)})),f.defineMethod("getScrollSize",_),f.defineMethod("getDashboardPermalink",A),f.defineMethod("getActiveTabs",O),f.defineMethod("getDataMask",T),f.start()}}))}},o={};function i(e){var a=o[e];if(void 0!==a)return a.exports;var t=o[e]={id:e,loaded:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}i.m=n,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},e=[],i.O=(a,t,d,c)=>{if(!t){var r=1/0;for(b=0;b<e.length;b++){for(var[t,d,c]=e[b],n=!0,o=0;o<t.length;o++)(!1&c||r>=c)&&Object.keys(i.O).every((e=>i.O[e](t[o])))?t.splice(o--,1):(n=!1,c<r&&(r=c));if(n){e.splice(b--,1);var s=d();void 0!==s&&(a=s)}}return a}c=c||0;for(var b=e.length;b>0&&e[b-1][2]>c;b--)e[b]=e[b-1];e[b]=[t,d,c]},i.H={},i.G=e=>{Object.keys(i.H).map((a=>{i.H[a](e)}))},i.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return i.d(a,{a}),a},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,d){if(1&d&&(e=this(e)),8&d)return e;if("object"==typeof e&&e){if(4&d&&e.__esModule)return e;if(16&d&&"function"==typeof e.then)return e}var c=Object.create(null);i.r(c);var r={};a=a||[null,t({}),t([]),t(t)];for(var n=2&d&&e;"object"==typeof n&&!~a.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((a=>r[a]=()=>e[a]));return r.default=()=>e,i.d(c,r),c},i.d=(e,a)=>{for(var t in a)i.o(a,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((a,t)=>(i.f[t](e,a),a)),[])),i.u=e=>7232===e?"7232.51cdb5ff5943a7fe2fed.entry.js":2389===e?"2389.78e007c16d14317cf1a7.entry.js":9285===e?"9285.8341514570714e1cefb6.entry.js":9924===e?"9924.3458b4abbdd76ef207c7.entry.js":5160===e?"5160.838e29f5aea0b0d9bdb2.entry.js":6463===e?"6463.3d967de9556ae29453ab.entry.js":3321===e?"3321.037a958659579c039374.entry.js":554===e?"554.e713b1597a23f3f20c8d.entry.js":3463===e?"3463.fd634bbc09c697312e84.entry.js":{12:"3a086a492c4a61c9e4b3",102:"d62d839b4ef2552d0ad4",117:"a751c0a0a5dd6c30dc39",126:"d2b7f04f2fb3acffa725",217:"36c904186d8c6464a82a",254:"69ba973d657949347e68",270:"322d23a00e0842c758fc",321:"b794a1885575b98274d5",354:"f6f9dce5cac17911244a",460:"befec96c5b98a8215226",466:"75807b546a6e97f619b0",570:"8a596ed7f5dfdb261e1c",576:"11da8ed5dd05faf7f9f3",703:"f047427ac6a5b01b93d5",746:"ce31ea27e606e0aaecdc",790:"ef44a01a7596e6295348",833:"6531797cbc21cbdff898",842:"90833ad5883f5ad210c8",1e3:"60d89b5e34295e2752f4",1007:"68b0a0a7fed9ed434526",1018:"b49c1a8e7c2fec205b6c",1052:"f09d40a615b62eef8b21",1059:"b8b2ca407e96fc92d575",1087:"6a643e32956277324c24",1111:"e547ce2b21753c6d3777",1116:"f62eea20d6ebcef9a1c0",1160:"3b3b1b6edc9b7245d0d2",1271:"3c4c5218c15ed7757716",1360:"fa436ea94d4547651653",1412:"11c1324d73c96936f920",1419:"f04f8c4e6922d7407645",1430:"8865885d3e8c6a703bb3",1459:"83ac6c4fb3c4955dc6e5",1515:"d5fa0b35e6bbddffaa0d",1591:"6f54c07111d8a2a0f69b",1626:"afd2b71a73d632ab02e4",1680:"38614f69e3ac1f477011",1723:"b14e56408e97dae9fbc7",1743:"2dbfbd4ca3cfa2655e10",1756:"44ee6e89b76d2adce35f",1809:"3118d652b189b91b1b6e",1916:"5c2701dfde784360bc71",1928:"b00085f436b64c9777c8",1937:"11c8899ed72d2685c3c3",2013:"e26da71e6b77679471c5",2024:"5deddd21479166e0e628",2040:"d269ffdef32c8fee0d97",2077:"e46833c1202bbe6eae44",2098:"541a0d4790e381e43071",2139:"4d0f392c10960176f944",2192:"a2dac2a461dd17aeca05",2213:"c90ce29a3b19c11f8899",2335:"43690d77751222a64cde",2432:"55ec32c46c1929b65e8e",2441:"520190f2efaa2c335abc",2514:"12c77e60caf120e4fa4d",2539:"10e9dac6806cacfa5843",2543:"4779182c325a0539e844",2603:"49a7e932e90e9186fcca",2694:"5fde26ba65f2fb5c0fc5",2877:"9d37c50da6c4533999b5",2885:"8168699b127b590bbffa",2963:"9d5104437b67ff831e9d",2974:"4a8e86048b614c842321",2976:"390de07a6e92676aee25",3059:"31037083d74157ddd71f",3139:"d48a3c70c0d6e7ab8d49",3206:"2b7925bbc91479c933e1",3216:"4da662d09fc0006ea3a3",3232:"93b264fd46bdd421197e",3257:"2ed248ae491993dd1156",3266:"3159afb659aa949dae9e",3405:"98b96369b1605c85a848",3425:"46581e480d32791a266f",3574:"d3d9c3b2ce820a0b7956",3577:"c143bc175f342085c7d4",3596:"e5742268a3ff68bd367c",3608:"acaa351e950f60e522cd",3620:"7d0994fb6a6bed4053df",3658:"4493b885a7239c917182",3710:"f6b902f4e13bd655d5e0",3784:"a04a01f248aa5af07b18",3897:"65740101257d3bac7c5e",3898:"8b9371014bf3db337a17",3979:"26d8483f9bbdbd0a601f",3985:"f60a616e476bfb53b9fa",4e3:"a719b27ec922570234f2",4041:"55873f7168e1d812b732",4053:"bb104375794b061400a2",4229:"51566fea20f015ad6a0f",4235:"01574d7bb383e74a4bb7",4325:"7f252519110e189cc853",4348:"c8fc06e6e12863fe2478",4399:"39cdc9c1070d3abb1806",4478:"1d2f4629c4565211aa3d",4570:"a9dd6b67cae4e212fccd",4652:"b42e388d5727e72b31ba",4693:"54413586502ea5716964",4879:"a849722ce3b716197d10",4923:"f6665f7fbb937137b4bf",4943:"cb2e371c17d238bf2d67",4987:"ba0b53e2acf267899d6a",5026:"fdf40972d029d137aae8",5055:"bd97da13a79edda9e2f5",5152:"220acdb2cbc41bd9650b",5380:"535ecfca2b6f656120b4",5386:"86ee2935dd2474c525dc",5401:"54a068e825559c0bad0b",5425:"a020119f122c44c5d63f",5476:"bba5d0cc7bc700055a79",5543:"a50ebc9872ce467332d5",5665:"f909bf4ac663148b89ec",5700:"a6bac6b550c025c5c5bf",5721:"653d26a17466346922bd",5724:"fa9aca3dadf718dd8151",5794:"116a7bc4de0174320dbd",5843:"e7c5d0b8da289335aee2",5888:"e4052eea3eac6a756721",6464:"b664d0780f1ed32a757a",6479:"56d793ec21dc4f77a8ce",6497:"a5f82a808aeac1d28344",6656:"81ce557a96dcae690bb9",6737:"d3bb8f52393a7a27e91e",6738:"ca3f19483e4d37ea8f1f",6746:"4cfd4192553ee34f4eac",6833:"935c576e54001de960c4",6841:"8cde5a8c48bcd08ad512",6845:"663719e05d609dbe909a",6861:"9970a24ab73b3a7dc869",6930:"62c81516b4b564f39cf9",6979:"31ba525054c3dbb3bce4",7020:"7218e2e2e4bcc772196f",7064:"717a96867b930290b2ed",7215:"272e2eb09b56252a365d",7391:"8ba20cb8bdb2e3064966",7454:"c10050871565528ae3b2",7472:"fd3be5bf6e84bd25c164",7473:"639fb7ddae6df6c8e6d4",7557:"548315755edca204243e",7613:"f94a58b82678428ecb0c",7745:"88b7ed8851cbc74c66e6",7780:"392f980775d743adc308",8046:"d0388a8e93962907dd6e",8128:"fa3dbf82435a23072e5e",8247:"b5ef5c003d022a51a6f2",8263:"fb7c7a013e49c4fdb678",8372:"46db19d87e379acc0be8",8378:"3c736349a9253ab4ed00",8510:"1d514ae3c200e9547f76",8534:"9f2193ce5423d9248285",8565:"4872fc21c42fed8a27f8",8604:"757b9b2b3544cfcd565d",8700:"ab2c5e8b7e4441c351c4",8948:"f1f9d08d1c67312d6375",8949:"e2fe7a6130dfbf8e2491",8963:"d079c7c5ea9b4c089041",8972:"572a6edde0c0d4559068",9056:"5c94bcc2c8de6baf166f",9074:"523fa8d674f547869fb0",9118:"a1d0643b48e5a453db4f",9234:"5a226415f002e2396272",9242:"ca6500c6299ac92704e6",9271:"88d15016d1ddc5fdccac",9278:"7c496ef1fc36fb2c3ef3",9347:"5cb77fb4dfca64418ff3",9413:"9db3e66b637d7d1fb6a7",9414:"c32705f8a000c5b6a4f6",9574:"740b452c4b7639ea44b3",9594:"a0b2dad7ec357b694df0",9605:"54caed740d8e360d20b0",9620:"e21b96f5414b0e0af06c",9666:"b5e42198e7bf0e76baeb",9702:"646ad9b0f7f87e904825",9783:"321ad24cfab155d373a3",9785:"902c440cb2199b57b5d9",9846:"a4ef0ba436cec6018301",9994:"a0d011b614ff80f5f7e3"}[e]+".chunk.js",i.miniCssF=e=>(5026===e?"DashboardContainer":e)+"."+{321:"b794a1885575b98274d5",2539:"10e9dac6806cacfa5843",4399:"39cdc9c1070d3abb1806",4943:"cb2e371c17d238bf2d67",5026:"fdf40972d029d137aae8",6833:"935c576e54001de960c4"}[e]+".chunk.css",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),d={},c="superset:",i.l=(e,a,t,r)=>{if(d[e])d[e].push(a);else{var n,o;if(void 0!==t)for(var s=document.getElementsByTagName("script"),b=0;b<s.length;b++){var f=s[b];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==c+t){n=f;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,i.nc&&n.setAttribute("nonce",i.nc),n.setAttribute("data-webpack",c+t),n.src=e),d[e]=[a];var l=(a,t)=>{n.onerror=n.onload=null,clearTimeout(h);var c=d[e];if(delete d[e],n.parentNode&&n.parentNode.removeChild(n),c&&c.forEach((e=>e(t))),a)return a(t)},h=setTimeout(l.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=l.bind(null,n.onerror),n.onload=l.bind(null,n.onload),o&&document.head.appendChild(n)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.p="/static/assets/",(()=>{if("undefined"!=typeof document){var e={5117:0};i.f.miniCss=(a,t)=>{e[a]?t.push(e[a]):0!==e[a]&&{321:1,2539:1,4399:1,4943:1,5026:1,6833:1}[a]&&t.push(e[a]=(e=>new Promise(((a,t)=>{var d=i.miniCssF(e),c=i.p+d;if(((e,a)=>{for(var t=document.getElementsByTagName("link"),d=0;d<t.length;d++){var c=(n=t[d]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(c===e||c===a))return n}var r=document.getElementsByTagName("style");for(d=0;d<r.length;d++){var n;if((c=(n=r[d]).getAttribute("data-href"))===e||c===a)return n}})(d,c))return a();((e,a,t,d,c)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",i.nc&&(r.nonce=i.nc),r.onerror=r.onload=t=>{if(r.onerror=r.onload=null,"load"===t.type)d();else{var n=t&&t.type,o=t&&t.target&&t.target.href||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+o+")");i.name="ChunkLoadError",i.code="CSS_CHUNK_LOAD_FAILED",i.type=n,i.request=o,r.parentNode&&r.parentNode.removeChild(r),c(i)}},r.href=a,document.head.appendChild(r)})(e,c,0,a,t)})))(a).then((()=>{e[a]=0}),(t=>{throw delete e[a],t})))},i.H.miniCss=a=>{if((!i.o(e,a)||void 0===e[a])&&/^(2539|321|4399|4943|5026|6833)$/.test(a)){e[a]=null;var t=document.createElement("link");t.charset="utf-8",i.nc&&t.setAttribute("nonce",i.nc),t.rel="preload",t.as="style",t.href=i.p+i.miniCssF(a),document.head.appendChild(t)}}}})(),(()=>{var e={5117:0};i.f.j=(a,t)=>{var d=i.o(e,a)?e[a]:void 0;if(0!==d)if(d)t.push(d[2]);else{var c=new Promise(((t,c)=>d=e[a]=[t,c]));t.push(d[2]=c);var r=i.p+i.u(a),n=new Error;i.l(r,(t=>{if(i.o(e,a)&&(0!==(d=e[a])&&(e[a]=void 0),d)){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;n.message="Loading chunk "+a+" failed.\n("+c+": "+r+")",n.name="ChunkLoadError",n.type=c,n.request=r,d[1](n)}}),"chunk-"+a,a)}},i.H.j=a=>{if(!i.o(e,a)||void 0===e[a]){e[a]=null;var t=document.createElement("link");t.charset="utf-8",i.nc&&t.setAttribute("nonce",i.nc),t.rel="preload",t.as="script",t.href=i.p+i.u(a),document.head.appendChild(t)}},i.O.j=a=>0===e[a];var a=(a,t)=>{var d,c,[r,n,o]=t,s=0;if(r.some((a=>0!==e[a]))){for(d in n)i.o(n,d)&&(i.m[d]=n[d]);if(o)var b=o(i)}for(a&&a(t);s<r.length;s++)c=r[s],i.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return i.O(b)},t=globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})(),r={2976:[2885,8948,7232,2389,9924,8700,4e3,9666,5160,8963,6845,6463,5386,3321,1723,9285,217,3658,554,9074,6738,8604,833,3463,5026]},i.f.preload=e=>{var a=r[e];Array.isArray(a)&&a.map(i.G)},i.O(void 0,[8517,9407,952,4187,4821,470,1711,9601,4796,2285],(()=>i(99601)));var s=i.O(void 0,[8517,9407,952,4187,4821,470,1711,9601,4796,2285],(()=>i(31484)));s=i.O(s)})();
"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8549],{8960:(e,a,t)=>{var r=t(30327);a.createFirstEllipsis=function(e){return{type:r.ITEM_TYPES.ELLIPSIS,key:r.ITEM_KEYS.FIRST_ELLIPSIS,value:e,isActive:!1}},a.createSecondEllipsis=function(e){return{type:r.ITEM_TYPES.ELLIPSIS,key:r.ITEM_KEYS.SECOND_ELLIPSIS,value:e,isActive:!1}},a.createFirstPageLink=function(e){var a=e.currentPage;return{type:r.ITEM_TYPES.FIRST_PAGE_LINK,key:r.ITEM_KEYS.FIRST_PAGE_LINK,value:1,isActive:1===a}},a.createPreviousPageLink=function(e){var a=e.currentPage;return{type:r.ITEM_TYPES.PREVIOUS_PAGE_LINK,key:r.ITEM_KEYS.PREVIOUS_PAGE_LINK,value:Math.max(1,a-1),isActive:1===a}},a.createNextPageLink=function(e){var a=e.currentPage,t=e.totalPages;return{type:r.ITEM_TYPES.NEXT_PAGE_LINK,key:r.ITEM_KEYS.NEXT_PAGE_LINK,value:Math.min(t,a+1),isActive:a===t}},a.createLastPageLink=function(e){var a=e.currentPage,t=e.totalPages;return{type:r.ITEM_TYPES.LAST_PAGE_LINK,key:r.ITEM_KEYS.LAST_PAGE_LINK,value:t,isActive:a===t}},a.createPageFunctionFactory=function(e){var a=e.currentPage;return function(e){return{type:r.ITEM_TYPES.PAGE,key:e,value:e,isActive:e===a}}}},11447:(e,a,t)=>{var r=t(17991),n=t(8960);a.getPaginationModel=function(e){if(null==e)throw new Error("getPaginationModel(): options object should be a passed");var a=Number(e.totalPages);if(isNaN(a))throw new Error("getPaginationModel(): totalPages should be a number");if(a<0)throw new Error("getPaginationModel(): totalPages shouldn't be a negative number");var t=Number(e.currentPage);if(isNaN(t))throw new Error("getPaginationModel(): currentPage should be a number");if(t<0)throw new Error("getPaginationModel(): currentPage shouldn't be a negative number");if(t>a)throw new Error("getPaginationModel(): currentPage shouldn't be greater than totalPages");var i=null==e.boundaryPagesRange?1:Number(e.boundaryPagesRange);if(isNaN(i))throw new Error("getPaginationModel(): boundaryPagesRange should be a number");if(i<0)throw new Error("getPaginationModel(): boundaryPagesRange shouldn't be a negative number");var s=null==e.siblingPagesRange?1:Number(e.siblingPagesRange);if(isNaN(s))throw new Error("getPaginationModel(): siblingPagesRange should be a number");if(s<0)throw new Error("getPaginationModel(): siblingPagesRange shouldn't be a negative number");var o=Boolean(e.hidePreviousAndNextPageLinks),l=Boolean(e.hideFirstAndLastPageLinks),u=Boolean(e.hideEllipsis),d=u?0:1,c=[],g=n.createPageFunctionFactory(e);if(l||c.push(n.createFirstPageLink(e)),o||c.push(n.createPreviousPageLink(e)),1+2*d+2*s+2*i>=a){var P=r.createRange(1,a).map(g);c.push.apply(c,P)}else{var p=i,E=r.createRange(1,p).map(g),h=a+1-i,v=a,_=r.createRange(h,v).map(g),b=Math.min(Math.max(t-s,p+d+1),h-d-2*s-1),y=b+2*s,I=r.createRange(b,y).map(g);if(c.push.apply(c,E),!u){var S=b-1,L=(S===p+1?g:n.createFirstEllipsis)(S);c.push(L)}if(c.push.apply(c,I),!u){var f=y+1,T=(f===h-1?g:n.createSecondEllipsis)(f);c.push(T)}c.push.apply(c,_)}return o||c.push(n.createNextPageLink(e)),l||c.push(n.createLastPageLink(e)),c};var i=t(30327);a.ITEM_TYPES=i.ITEM_TYPES,a.ITEM_KEYS=i.ITEM_KEYS},17991:(e,a)=>{a.createRange=function(e,a){for(var t=[],r=e;r<=a;r++)t.push(r);return t}},18575:(e,a,t)=>{a.w$=a.uv=void 0;var r=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n=o(t(96540)),i=o(t(5556)),s=t(11447);function o(e){return e&&e.__esModule?e:{default:e}}a.uv=function(e){var a=e.itemTypeToComponent,t=e.WrapperComponent,o=void 0===t?"div":t,l=function(e){var t=e.currentPage,i=e.totalPages,l=e.boundaryPagesRange,u=e.siblingPagesRange,d=e.hideEllipsis,c=e.hidePreviousAndNextPageLinks,g=e.hideFirstAndLastPageLinks,P=e.onChange,p=e.disabled,E=function(e,a){var t={};for(var r in e)a.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(e,["currentPage","totalPages","boundaryPagesRange","siblingPagesRange","hideEllipsis","hidePreviousAndNextPageLinks","hideFirstAndLastPageLinks","onChange","disabled"]),h=(0,s.getPaginationModel)({currentPage:t,totalPages:i,boundaryPagesRange:l,siblingPagesRange:u,hideEllipsis:d,hidePreviousAndNextPageLinks:c,hideFirstAndLastPageLinks:g}),v=function(e,a,t){return function(i){var s,o,l,u=e[i.type],d=(o=(s=i).value,l=s.isDisabled,function(){!l&&t&&a!==o&&t(o)});return n.default.createElement(u,r({onClick:d},i))}}(a,t,P);return n.default.createElement(o,E,h.map((function(e){return v(r({},e,{isDisabled:!!p}))})))};return l.propTypes={currentPage:i.default.number.isRequired,totalPages:i.default.number.isRequired,boundaryPagesRange:i.default.number,siblingPagesRange:i.default.number,hideEllipsis:i.default.bool,hidePreviousAndNextPageLinks:i.default.bool,hideFirstAndLastPageLinks:i.default.bool,onChange:i.default.func,disabled:i.default.bool},l},a.w$=s.ITEM_TYPES},29874:(e,a,t)=>{t.r(a),t.d(a,{default:()=>P});var r=t(96540),n=t(78518),i=t(17437),s=t(51713),o=t(50500),l=t(5261),u=t(43849),d=t(51504),c=t(97560),g=t(2445);const P=function(){const{addDangerToast:e,addSuccessToast:a}=(0,l.Yf)(),{state:{loading:t,resourceCount:P,resourceCollection:p,bulkSelectEnabled:E},fetchData:h,refreshData:v,toggleBulkSelect:_}=(0,o.RU)("log",(0,n.t)("Log"),e,!1),b=(0,r.useMemo)((()=>[{Header:(0,n.t)("Users"),key:"user",id:"user",input:"select",operator:u.t.RelationOneMany,unfilteredLabel:(0,n.t)("All"),fetchSelects:async(a,t,r)=>(0,c.cm)(a,t,r,e)},{Header:(0,n.t)("Dashboard Id"),key:"dashboard_id",id:"dashboard_id",input:"search",operator:u.t.Equals},{Header:(0,n.t)("Slice Id"),key:"slice_id",id:"slice_id",input:"search",operator:u.t.Equals},{Header:(0,n.t)("Action"),key:"action",id:"action",input:"search",operator:u.t.Contains},{Header:(0,n.t)("JSON"),key:"json",id:"json",input:"search",operator:u.t.Contains},{Header:(0,n.t)("dttm"),key:"dttm",id:"dttm",input:"datetime_range",operator:u.t.Between,dateFilterValueType:"iso"},{Header:(0,n.t)("Referrer"),key:"referrer",id:"referrer",input:"search",operator:u.t.Equals},{Header:(0,n.t)("Duration Ms"),key:"duration_ms",id:"duration_ms",input:"search",operator:u.t.Equals}]),[]),y=(0,r.useMemo)((()=>[{accessor:"action",Header:(0,n.t)("Action"),Cell:({row:{original:{action:e}}})=>(0,g.Y)("span",{children:e})},{accessor:"user",Header:(0,n.t)("User"),Cell:({row:{original:{user:e}}})=>(0,g.Y)("span",{children:null==e?void 0:e.username})},{accessor:"duration_ms",Header:(0,n.t)("Duration Ms"),Cell:({row:{original:{duration_ms:e}}})=>(0,g.Y)("span",{children:e})},{accessor:"dashboard_id",Header:(0,n.t)("Dashboard Id"),hidden:!1,Cell:({row:{original:{dashboard_id:e}}})=>(0,g.Y)("span",{children:e})},{accessor:"slice_id",Header:(0,n.t)("Slice Id"),hidden:!1,Cell:({row:{original:{slice_id:e}}})=>(0,g.Y)("span",{children:e})},{accessor:"json",Header:(0,n.t)("JSON"),Cell:({row:{original:{json:e}}})=>(0,g.Y)(d.A.Text,{css:i.AH`
              .antd5-typography-copy {
                visibility: hidden;
              }
              &:hover .antd5-typography-copy {
                visibility: visible;
              }
            `,copyable:!!e,ellipsis:{tooltip:{styles:{root:{maxWidth:"900px"}},title:e}},children:e})},{accessor:"referrer",Header:(0,n.t)("Referrer"),Cell:({row:{original:{referrer:e}}})=>(0,g.Y)(d.A.Text,{css:i.AH`
              .antd5-typography-copy {
                visibility: hidden;
              }
              &:hover .antd5-typography-copy {
                visibility: visible;
              }
            `,copyable:!!e,ellipsis:{tooltip:{styles:{root:{maxWidth:"580px"}},title:e}},children:e})},{accessor:"dttm",Header:(0,n.t)("Dttm"),Cell:({row:{original:{dttm:e}}})=>(0,g.Y)("span",{children:e})}]),[]),I={title:(0,n.t)("No Logs yet"),image:"filter-results.svg"};return(0,g.FD)(g.FK,{children:[(0,g.Y)(s.A,{name:(0,n.t)("Action Logs"),buttons:[]}),(0,g.Y)(u.A,{className:"action-log-view",columns:y,count:P,data:p,fetchData:h,filters:b,initialSort:[{id:"dttm",desc:!0}],loading:t,pageSize:25,bulkSelectEnabled:E,disableBulkSelect:_,addDangerToast:e,addSuccessToast:a,emptyState:I,refreshData:v})]})}},30327:(e,a)=>{a.ITEM_TYPES={PAGE:"PAGE",ELLIPSIS:"ELLIPSIS",FIRST_PAGE_LINK:"FIRST_PAGE_LINK",PREVIOUS_PAGE_LINK:"PREVIOUS_PAGE_LINK",NEXT_PAGE_LINK:"NEXT_PAGE_LINK",LAST_PAGE_LINK:"LAST_PAGE_LINK"},a.ITEM_KEYS={FIRST_ELLIPSIS:-1,SECOND_ELLIPSIS:-2,FIRST_PAGE_LINK:-3,PREVIOUS_PAGE_LINK:-4,NEXT_PAGE_LINK:-5,LAST_PAGE_LINK:-6}},97560:(e,a,t)=>{t.d(a,{Ni:()=>u,cm:()=>d,vW:()=>l,wj:()=>o});var r=t(35742),n=t(78518),i=t(58561),s=t.n(i);const o=async e=>{await r.A.post({endpoint:"/api/v1/security/groups/",jsonPayload:{...e,users:e.users.map((e=>e.value))}})},l=async(e,a)=>{await r.A.put({endpoint:`/api/v1/security/groups/${e}`,jsonPayload:{...a,users:a.users.map((e=>e.value))}})},u=async e=>r.A.delete({endpoint:`/api/v1/security/groups/${e}`}),d=async(e,a,t,i)=>{const o=s().encode({filter:e,page:a,page_size:t,order_column:"username",order_direction:"asc"});try{var l,u,d;const e=await r.A.get({endpoint:`/api/v1/security/users/?q=${o}`});return{data:((null==(l=e.json)?void 0:l.result)||[]).map((e=>({value:e.id,label:e.username}))),totalCount:null!=(u=null==(d=e.json)?void 0:d.count)?u:0}}catch(e){return i((0,n.t)("There was an error while fetching users")),{data:[],totalCount:0}}}}}]);
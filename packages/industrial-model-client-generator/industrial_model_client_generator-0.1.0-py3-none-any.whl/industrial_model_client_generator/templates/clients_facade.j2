from industrial_model import Engine, AsyncEngine

{%- for client in clients %}
from .clients.{{ client.module_name }} import {{ client.module_client }}
{%- endfor %}


{% for view_definition in view_definitions %}
from .clients_async import Async{{ view_definition.view_name }}Client
from .clients_sync import {{ view_definition.view_name }}Client
{%- endfor %}



class {{client_name}}:
    def __init__(self, engine: Engine):
    {%- for view_definition in view_definitions %}
        self.{{ view_definition.view_module_name }} = {{ view_definition.view_name}}Client(engine)
    {%- endfor %}



class Async{{client_name}}:
    def __init__(self, engine: AsyncEngine):
    {%- for view_definition in view_definitions %}
        self.{{ view_definition.view_module_name }} = Async{{ view_definition.view_name}}Client(engine)
    {%- endfor %}

{% extends "base.html" %}
{% load i18n %}

{% block title %}
  {% trans "Changer de mot de passe" %}
{% endblock %}

{% block content %}
<div class="segment full whitespace-normal form">

  <form class="segment half sm-full whitespace-normal" method="POST" action=".">
    {% csrf_token %}

    <div class="segment margin-bottom-medium full padding-right-small sm-padding-none text-small text-semibold text-uppercase text-color-heading">
      {{ form.old_password.label_tag }}
      {{ form.old_password }}
    </div>
    <div class="segment margin-bottom-medium full padding-right-small sm-padding-none text-small text-semibold text-uppercase text-color-heading">
      {{ form.new_password1.label_tag }}
      {{ form.new_password1 }}
    </div>
    <div class="segment margin-bottom-medium full padding-right-small sm-padding-none text-small text-semibold text-uppercase text-color-heading">
      {{ form.new_password2.label_tag }}
      {{ form.new_password2 }}
    </div>

    {% if form.errors and not form.non_field_errors %}
    <div class='segment full margin-bottom-xsmall whitespace-normal'>
      <span class='text-bold text-color-primary'>{% if form.errors.items|length == 1 %}{% trans "Les mots de passe ne correspondent pas." %}{% endif %}</span>
    </div>
    {% endif %}

    {% if form.non_field_errors %}
    {% for error in form.non_field_errors %}
    <div class='segment full margin-bottom-xsmall whitespace-normal'>
      <span class='text-bold text-color-primary'>{{ error }}</span>
    </div>
    {% endfor %}
    {% endif %}

    <div class="submit-button segment full margin-top-xsmall text-xsmall children-link-button children-button-icon children-link-text-bold children-link-text-uppercase children-link-reversed color-secondary bordered children-icon-rocket children-icon-small children-icon-margin-right-xsmall">
      <button type="submit">{% trans "Envoyer" %}</button>
    </div>
    <div class="segment full margin-top-xsmall">
      <a class="link" href="{% url 'admin:index' %}">{% trans "Retour" %}</a>
    </div>
  </form>
</div>
{% endblock %}

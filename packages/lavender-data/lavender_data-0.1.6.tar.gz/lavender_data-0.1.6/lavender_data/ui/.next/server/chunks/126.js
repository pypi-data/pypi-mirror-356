"use strict";exports.id=126,exports.ids=[126],exports.modules={10839:(e,t,a)=>{a.d(t,{Cf:()=>u,Es:()=>m,L3:()=>h,c7:()=>x,lG:()=>o,rr:()=>p,zM:()=>d});var s=a(40871);a(65138);var n=a(32506),l=a(98154),r=a(75908);function o({...e}){return(0,s.jsx)(n.bL,{"data-slot":"dialog",...e})}function d({...e}){return(0,s.jsx)(n.l9,{"data-slot":"dialog-trigger",...e})}function i({...e}){return(0,s.jsx)(n.ZL,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return(0,s.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...t})}function u({className:e,children:t,...a}){return(0,s.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(n.UC,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a,children:[t,(0,s.jsxs)(n.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function m({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function h({className:e,...t}){return(0,s.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...t})}function p({className:e,...t}){return(0,s.jsx)(n.VY,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}},33662:(e,t,a)=>{a.d(t,{K:()=>N});var s=a(40871),n=a(65138),l=a(19753),r=a(97655),o=a(20574),d=a(75908),i=a(26123),c=a(40190),u=a(50708);function x({className:e,...t}){return(0,s.jsx)(c.uB,{"data-slot":"command",className:(0,d.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function m({className:e,...t}){return(0,s.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,s.jsx)(u.A,{className:"size-4 shrink-0 opacity-50"}),(0,s.jsx)(c.uB.Input,{"data-slot":"command-input",className:(0,d.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function h({className:e,...t}){return(0,s.jsx)(c.uB.List,{"data-slot":"command-list",className:(0,d.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function p({...e}){return(0,s.jsx)(c.uB.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function f({className:e,...t}){return(0,s.jsx)(c.uB.Group,{"data-slot":"command-group",className:(0,d.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function j({className:e,...t}){return(0,s.jsx)(c.uB.Item,{"data-slot":"command-item",className:(0,d.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}a(10839);var g=a(13132);function v({...e}){return(0,s.jsx)(g.bL,{"data-slot":"popover",...e})}function b({...e}){return(0,s.jsx)(g.l9,{"data-slot":"popover-trigger",...e})}function w({className:e,align:t="center",sideOffset:a=4,...n}){return(0,s.jsx)(g.ZL,{children:(0,s.jsx)(g.UC,{"data-slot":"popover-content",align:t,sideOffset:a,className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function N({value:e,onChange:t,draggable:a=!1,label:c="",placeholder:u="",emptyText:g="",className:N="",singleSelect:y=!1}){let[k,C]=n.useState(!1),[A,z]=n.useState(null),S=e=>{z(e)},_=e=>{e.preventDefault()},I=(a,s)=>{if(a.preventDefault(),A){let a=[...e],n=a.findIndex(e=>e.value===A.value),l=a.findIndex(e=>e.value===s.value);if(n>l){for(let e=n;e>l;e--)a[e]=a[e-1];a[l]=A}else{for(let e=n;e<l;e++)a[e]=a[e+1];a[l]=A}t(a),z(null)}};return(0,s.jsxs)(v,{open:k,onOpenChange:C,children:[(0,s.jsx)(b,{asChild:!0,children:(0,s.jsxs)(i.$,{variant:"outline",role:"combobox","aria-expanded":k,className:(0,d.cn)("w-[200px] justify-between",N),children:[c,(0,s.jsx)(l.A,{className:"opacity-50"})]})}),(0,s.jsx)(w,{className:"w-full p-0",children:(0,s.jsxs)(x,{children:[(0,s.jsx)(m,{placeholder:u,className:"h-9"}),(0,s.jsxs)(h,{children:[(0,s.jsx)(p,{children:g}),(0,s.jsx)(f,{children:e.map(n=>(0,s.jsxs)(j,{value:n.value,onSelect:a=>{let s=e.findIndex(e=>e.value===a);if(-1!==s){let a=[...e];a[s].selected=!a[s].selected,t(a)}},disabled:y&&e.filter(e=>e.selected).length>0&&!n.selected,draggable:a,onDragStart:()=>S(n),onDragOver:_,onDrop:e=>I(e,n),children:[a?(0,s.jsx)(r.A,{className:"w-4 h-4"}):(0,s.jsx)(s.Fragment,{}),n.label,(0,s.jsx)(o.A,{className:(0,d.cn)("ml-auto",e.find(e=>e.value===n.value)?.selected?"opacity-100":"opacity-0")})]},n.value))})]})]})})]})}},85755:(e,t,a)=>{a.d(t,{A0:()=>r,BF:()=>o,Hj:()=>d,XI:()=>l,nA:()=>c,nd:()=>i});var s=a(40871);a(65138);var n=a(75908);function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,n.cn)("w-full caption-bottom text-sm",e),...t})})}function r({className:e,...t}){return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,n.cn)("[&_tr]:border-b",e),...t})}function o({className:e,...t}){return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,n.cn)("[&_tr:last-child]:border-0",e),...t})}function d({className:e,...t}){return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,n.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function i({className:e,...t}){return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,n.cn)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,n.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},86126:(e,t,a)=>{a.d(t,{A:()=>N});var s=a(40871),n=a(27927),l=a.n(n),r=a(65138),o=a(85755),d=a(30618),i=a(10839),c=a(58902),u=a(26123),x=a(43211),m=a(84896),h=a(33662),p=a(41010),f=a(93379);let j=e=>"object"==typeof e&&null!==e?JSON.stringify(e):"number"!=typeof e?String(e):l()(e)?String(e):e.toFixed(8),g=e=>{let t="";if("object"==typeof e&&null!==e)t=JSON.stringify(e);else if("number"==typeof e){if(!l()(e))return e.toFixed(2)}else t=String(e);return t.length>50?t.slice(0,50)+"...":t},v=e=>{let t=p.lookup(e.split("?")[0]);return t?{image:t.startsWith("image/"),video:t.startsWith("video/")||"application/mp4"==t}:{image:!1,video:!1}},b=e=>{if(e.startsWith("file://")){let t=e.replace("file://","");return`/api/files/${t}`}return e};function w({defaultShow:e,url:t,sample:a}){let[n,l]=(0,r.useState)(e),[d,m]=(0,r.useState)(!0),h=b(t),p=v(t);return p.image?(0,s.jsxs)(i.lG,{children:[(0,s.jsx)(i.zM,{asChild:!0,children:(0,s.jsxs)("div",{children:[(0,s.jsx)(c.E,{className:`w-full h-[64px] ${d?"block":"hidden"}`}),(0,s.jsx)("img",{src:h,className:`h-[64px] ${d?"hidden":"block"}`,onLoad:()=>m(!1)})]})}),(0,s.jsxs)(i.Cf,{children:[(0,s.jsxs)(i.c7,{children:[(0,s.jsx)(i.L3,{children:"Image Preview"}),(0,s.jsx)(i.rr,{className:"w-full break-all",children:t})]}),(0,s.jsx)("div",{className:"w-full flex justify-center",children:(0,s.jsx)("img",{src:h,className:"w-[400px]"})}),(0,s.jsx)(i.Es,{className:"max-h-[500px] overflow-x-auto overflow-y-auto",children:(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nd,{children:"Key"}),(0,s.jsx)(o.nd,{children:"Value"})]})}),(0,s.jsx)(o.BF,{children:Object.keys(a).map(e=>(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nA,{children:e}),(0,s.jsx)(o.nA,{children:j(a[e])})]},e))})]})})]})]}):p.video?(0,s.jsxs)(i.lG,{children:[(0,s.jsx)(i.zM,{asChild:!0,children:n?(0,s.jsxs)("div",{children:[(0,s.jsx)(c.E,{className:`w-full h-[64px] ${d?"block":"hidden"}`}),(0,s.jsx)("video",{src:h,className:`h-[64px] ${d?"hidden":"block"}`,onCanPlay:()=>m(!1),autoPlay:!0,muted:!0,loop:!0,playsInline:!0})]}):(0,s.jsx)(u.$,{className:"w-full h-[64px]",onClick:()=>l(!0),children:(0,s.jsx)(x.A,{})})}),(0,s.jsxs)(i.Cf,{children:[(0,s.jsxs)(i.c7,{children:[(0,s.jsx)(i.L3,{children:"Video Preview"}),(0,s.jsx)(i.rr,{className:"w-full break-all",children:t})]}),(0,s.jsx)("div",{className:"w-full flex justify-center",children:(0,s.jsx)("video",{src:h,controls:!0,autoPlay:!0,className:"w-[400px]"})}),(0,s.jsx)(i.Es,{className:"max-h-[500px] overflow-x-auto overflow-y-auto",children:(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nd,{children:"Key"}),(0,s.jsx)(o.nd,{children:"Value"})]})}),(0,s.jsx)(o.BF,{children:Object.keys(a).map(e=>(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nA,{children:e}),(0,s.jsx)(o.nA,{children:j(a[e])})]},e))})]})})]})]}):(0,s.jsx)("div",{children:t})}function N({datasetId:e,samples:t,fetchedColumns:a}){let[n,l]=(0,r.useState)(!1),[i,c]=(0,r.useState)([]),p=(0,r.useMemo)(()=>i.filter(e=>t.map(t=>t[e.name]).every(e=>"string"==typeof e&&(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("file://")))).map(e=>e),[t,i]);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"w-full flex justify-start items-center mb-4 gap-8",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(h.K,{label:"Columns",placeholder:"Search columns...",emptyText:"No columns found",draggable:!0,value:i.map(e=>({label:e.name,value:e.name,selected:e.selected})),onChange:e=>c(e.map(e=>({name:e.value,selected:e.selected})))}),(0,s.jsx)(u.$,{variant:"outline",onClick:()=>c(a.map(e=>({name:e,selected:!0}))),children:"Reset"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(m.A,{className:"w-5 h-5"}),(0,s.jsx)(f.d,{checked:n,onCheckedChange:l,"aria-label":"Default show"}),(0,s.jsx)(x.A,{className:"w-5 h-5"})]})]}),(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsx)(o.Hj,{children:i.map(e=>(0,s.jsx)(o.nd,{children:e.name},e.name))})}),(0,s.jsx)(o.BF,{children:t.map((e,t)=>(0,s.jsx)(o.Hj,{children:i.map(t=>{let a=e[t.name];if(p.some(e=>e.name===t.name&&e.selected))return(0,s.jsx)(o.nA,{children:(0,s.jsxs)(d.Tooltip,{children:[(0,s.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(w,{defaultShow:n,url:a,sample:e})}),(0,s.jsx)(d.TooltipContent,{className:"w-auto max-w-[500px] text-wrap break-all",children:a})]})},t.name);let l=j(a),r=g(l);return(0,s.jsx)(o.nA,{children:r?(0,s.jsxs)(d.Tooltip,{children:[(0,s.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,s.jsx)("div",{children:r})}),(0,s.jsx)(d.TooltipContent,{className:"w-auto max-w-[500px] text-wrap break-all",children:l})]}):(0,s.jsx)("div",{children:l})},t.name)})},`preview-sample-${t}`))})]})]})}},93379:(e,t,a)=>{a.d(t,{d:()=>r});var s=a(40871);a(65138);var n=a(39512),l=a(75908);function r({className:e,...t}){return(0,s.jsx)(n.bL,{"data-slot":"switch",className:(0,l.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 inline-flex h-5 w-9 shrink-0 items-center rounded-full border-2 border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,s.jsx)(n.zi,{"data-slot":"switch-thumb",className:(0,l.cn)("bg-background pointer-events-none block size-4 rounded-full ring-0 shadow-lg transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})}}};
.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

===============================================
Account Analytic Distribution Model Recalculate
===============================================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:814b6566780ac734313e0b819b5e79fab90268cf7365ea4be8f81f182148f9c6
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Faccount--analytic-lightgray.png?logo=github
    :target: https://github.com/OCA/account-analytic/tree/17.0/account_analytic_distribution_model_recalculate
    :alt: OCA/account-analytic
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/account-analytic-17-0/account-analytic-17-0-account_analytic_distribution_model_recalculate
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/account-analytic&target_branch=17.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module allows you to regenerate the analytic distribution of the
journal items, that were generated by the distribution model.

It adds the posibility to add a Start Date and End Date for the
distribution models too.

**Table of contents**

.. contents::
   :local:

Usage
=====

1. **Navigate to Analytic Distribution Models**

- Go to Invoicing -> Configuration -> Analytic Distribution Models.

2. **Create or Edit a Distribution Model**

- Create a new distribution model or edit an existing one.
- Set the **Start Date** and **End Date** to define the active period
  for the distribution. Only distributions within this date range will
  be applied.
- Define filters such as **Partner** and **Account Prefix** to control
  when the model should apply.

3. **Create an Invoice or Vendor Bill**

- Select a customer and an account that match the conditions set in the
  distribution model.
- If the invoice has a date, the system will use it to filter applicable
  distribution models; otherwise, it will use the current date.

4. **Use the Recalculate Function**

- Go to **Analytic Distribution Models**.
- Enable the **Recalculate** option on the model you want to update.
- Modify the analytic distribution as needed.
- Click the **Recalculate** button. (Partner and account prefix needs to
  be set)
- All journal items originally updated using this model, and still
  within its date range and matching its criteria, will be recalculated,
  using the current distribution of the model.

**Sync Distribution Models with Journal Items**
-----------------------------------------------

You can use the **Sync** button to associate all journal items that
match the distribution model's criteria.

This is especially useful in the following cases:

- Journal items were created **before** the distribution model existed.
- The model has been **updated or changed**, and you want to reassign
  journal items accordingly.
- You need to **sync lines** from other entries that now match the
  model's conditions.

By syncing, the system will disassociate any previous links and reassign
journal items based on the current configuration of the distribution
model.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/account-analytic/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/account-analytic/issues/new?body=module:%20account_analytic_distribution_model_recalculate%0Aversion:%2017.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* APSL-Nagarro
* Bernat Obrador

Contributors
------------

- APSL - Nagarro <https://apsl.tech>

  - Bernat Obrador

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

.. |maintainer-BernatObrador| image:: https://github.com/BernatObrador.png?size=40px
    :target: https://github.com/BernatObrador
    :alt: BernatObrador

Current `maintainer <https://odoo-community.org/page/maintainer-role>`__:

|maintainer-BernatObrador| 

This module is part of the `OCA/account-analytic <https://github.com/OCA/account-analytic/tree/17.0/account_analytic_distribution_model_recalculate>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
